{% extends 'partials/base.html' %}
{% load crispy_forms_tags %}
{% block title %} Index Page {% endblock %}

{% block content %}

{% if user.is_authenticated and user.is_staff and user.is_superuser %}
{% include 'partials/topnav.html' %}

<!--Graphs-->

<div class="container">
    <div class="row my-5">
      <div class="col-md-6">
        <div class="bg-white">

        <div>
<canvas id="myChart" width="400" height="300"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
const ctx = document.getElementById('myChart');

new Chart(ctx, {
  type: 'pie',
  data: {
    labels: [ {% for order in orders %} '{{ order.product.name }}', {% endfor %} ],
    datasets: [{
      label: 'Orders',
      data: [{% for order in orders %} {{order.order_quantity}}, {% endfor %}],
      backgroundColor: [
        'rgba( 225, 99, 132, 1 )',
        'rgba( 54, 162, 235, 1 )',
        'rgba( 225, 206, 86, 1 )',
        'rgba( 75, 192, 192, 1 )',
        'rgba( 153, 102, 255, 1 )',
        'rgba( 225, 159, 64, 1 )',
        'rgba( 225, 85, 132, 1 )',
        'rgba( 54, 155, 235, 1 )',
        'rgba( 225, 206, 44, 1 )',
        'rgba( 75, 192, 192, 1 )',
        'rgba( 453, 102, 255, 1 )',
        'rgba( 225, 109, 64, 1 )',
      ],
      borderColor: [
      'rgba( 225, 99, 132, 1 )',
        'rgba( 54, 162, 235, 1 )',
        'rgba( 225, 206, 86, 1 )',
        'rgba( 75, 192, 192, 1 )',
        'rgba( 153, 102, 255, 1 )',
        'rgba( 225, 159, 64, 1 )',
        'rgba( 225, 85, 132, 1 )',
        'rgba( 54, 155, 235, 1 )',
        'rgba( 225, 206, 44, 1 )',
        'rgba( 75, 192, 192, 1 )',
        'rgba( 453, 102, 255, 1 )',
        'rgba( 225, 109, 64, 1 )',
      ],
      borderWidth: 1
    }]
  },
  options: {
    scales: {
      y: {
        beginAtZero: true
      }
    }
  }
});
</script>


      </div>
      </div>

      <div class="col-md-6">
        <div class="bg-white">

        <div>
<canvas id="myChart1" width="400" height="300"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
const ctx1 = document.getElementById('myChart1');

new Chart(ctx1, {
  type: 'bar',
  data: {
    labels: [{% for product in products %} '{{ product.name }}', {% endfor %}],
    datasets: [{
      label: 'Products',
      data: [{% for product in products %} '{{ product.quantity }}', {% endfor %}],
      backgroundColor: [
      'rgba( 225, 99, 132, 1 )',
        'rgba( 54, 162, 235, 1 )',
        'rgba( 225, 206, 86, 1 )',
        'rgba( 75, 192, 192, 1 )',
        'rgba( 153, 102, 255, 1 )',
        'rgba( 225, 159, 64, 1 )',
        'rgba( 225, 85, 132, 1 )',
        'rgba( 54, 155, 235, 1 )',
        'rgba( 225, 206, 44, 1 )',
        'rgba( 75, 192, 192, 1 )',
        'rgba( 453, 102, 255, 1 )',
        'rgba( 225, 109, 64, 1 )',
      ],
      borderColor: [
      'rgba( 225, 99, 132, 1 )',
        'rgba( 54, 162, 235, 1 )',
        'rgba( 225, 206, 86, 1 )',
        'rgba( 75, 192, 192, 1 )',
        'rgba( 153, 102, 255, 1 )',
        'rgba( 225, 159, 64, 1 )',
        'rgba( 225, 85, 132, 1 )',
        'rgba( 54, 155, 235, 1 )',
        'rgba( 225, 206, 44, 1 )',
        'rgba( 75, 192, 192, 1 )',
        'rgba( 453, 102, 255, 1 )',
        'rgba( 225, 109, 64, 1 )',
      ],
      borderWidth: 1
    }]
  },
  options: {
    scales: {
      y: {
        beginAtZero: true
      }
    }
  }
});
</script>


      </div>
      </div>

    </div>
  </div>
  
  <!--Graphs End-->
{% else %}
{% include 'dashboard/staff_index.html' %}
{% endif %}
{% endblock %}
